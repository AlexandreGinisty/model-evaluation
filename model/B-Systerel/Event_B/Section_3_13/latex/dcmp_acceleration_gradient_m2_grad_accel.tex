\begin{description}
\MACHINE{dcmp\_acceleration\_gradient\_m2\_grad\_accel}
\REFINES{dcmp\_acceleration\_gradient\_m1}
\SEES{c6\_supervision\_limits, ctx\_functions\_0}
\EVENTS
        \EVT {calc\_A\_gradient\_mass\_known}
        \REF {set\_A\_gradient}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_SvL }
                        \ItemY{l\_grad }{ }
                        \Item{l\_TSR }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd3 }{ l\_SvL \in  t\_locations }
                        \nItemY{ grd4 }{ l\_grad \in  t\_gradients }{ }
                        \nItemY{ grd5 }{ l\_TSR \in  t\_speed\_profiles }{ }
                        \nItem{ grd6 }{ rotating\_mass\_specified = TRUE }
                        \end{description}
                \Witnesses
                        \begin{description}
                        \nItemX{ l\_mass }{ l\_mass = M\_rotating\_nom }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_gradient :=  f\_accel\_due\_gradient (loc\_current \mapsto  l\_SvL \mapsto  l\_grad \mapsto  M\_rotating\_nom \mapsto  l\_TSR) }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {calc\_A\_gradient\_mass\_unknown\_uphill}
        \REF {set\_A\_gradient}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_SvL }
                        \ItemY{l\_grad }{ }
                        \Item{l\_TSR }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd3 }{ l\_SvL \in  t\_locations }
                        \nItemY{ grd4 }{ l\_grad \in  t\_gradients }{ }
                        \nItemY{ grd5 }{ l\_TSR \in  t\_speed\_profiles }{ }
                        \nItemY{ grd6 }{ f\_grad\_uphill(l\_grad) = TRUE }{ }
                        \nItem{ grd7 }{ rotating\_mass\_specified = FALSE }
                        \end{description}
                \Witnesses
                        \begin{description}
                        \nItemX{ l\_mass }{ l\_mass = c\_M\_rotating\_max }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_gradient :=  f\_accel\_due\_gradient (loc\_current \mapsto  l\_SvL \mapsto  l\_grad \mapsto  c\_M\_rotating\_max \mapsto  l\_TSR) }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {calc\_A\_gradient\_mass\_unknown\_downhill}
        \REF {set\_A\_gradient}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_SvL }
                        \ItemY{l\_grad }{ }
                        \Item{l\_TSR }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd3 }{ l\_SvL \in  t\_locations }
                        \nItemY{ grd4 }{ l\_grad \in  t\_gradients }{ }
                        \nItemY{ grd5 }{ l\_TSR \in  t\_speed\_profiles }{ }
                        \nItemY{ grd6 }{ f\_grad\_uphill(l\_grad) = FALSE }{ }
                        \nItem{ grd7 }{ rotating\_mass\_specified = FALSE }
                        \end{description}
                \Witnesses
                        \begin{description}
                        \nItemX{ l\_mass }{ l\_mass = c\_M\_rotating\_min }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_gradient :=  f\_accel\_due\_gradient (loc\_current \mapsto  l\_SvL \mapsto  l\_grad \mapsto  c\_M\_rotating\_min \mapsto  l\_TSR) }
                        \end{description}
                \EndAct
                \end{description}
\END
\end{description}
