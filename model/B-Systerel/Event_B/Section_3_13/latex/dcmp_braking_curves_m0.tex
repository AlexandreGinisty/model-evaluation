\begin{description}
\MACHINE{dcmp\_braking\_curves\_m0}
\SEES{c6\_supervision\_limits}
\VARIABLES
        \begin{description}
                \ItemY{ A\_normal\_service }{Shared variable, DO NOT REFINE}
                \ItemY{ SBD }{Shared variable, DO NOT REFINE}
                \ItemY{ A\_expected }{Shared variable, DO NOT REFINE}
                \ItemY{ A\_safe }{Shared variable, DO NOT REFINE}
                \ItemY{ GUI }{Shared variable, DO NOT REFINE}
                \ItemY{ LOA }{Shared variable, DO NOT REFINE}
                \ItemY{ EOA }{Shared variable, DO NOT REFINE}
                \ItemY{ SvL }{Shared variable, DO NOT REFINE}
                \ItemY{ EBD }{Shared variable, DO NOT REFINE}
                \ItemY{ a\_current }{Shared variable, DO NOT REFINE}
                \ItemY{ v\_current }{Shared variable, DO NOT REFINE}
                \ItemY{ loc\_current }{Shared variable, DO NOT REFINE}
        \end{description}
\INVARIANTS
        \begin{description}
                \nItem{ typing\_A\_normal\_service }{ A\_normal\_service \in  \pow(t\_speed \cprod  t\_distance \cprod  t\_acceleration) }
                \nItem{ typing\_SBD }{ SBD \in  t\_braking\_curves }
                \nItem{ typing\_A\_expected }{ A\_expected \in  \pow(t\_speed \cprod  t\_distance \cprod  t\_acceleration) }
                \nItem{ typing\_A\_safe }{ A\_safe \in  \pow(t\_speed \cprod  t\_distance \cprod  t\_acceleration) }
                \nItem{ typing\_GUI }{ GUI \in  t\_braking\_curves }
                \nItem{ typing\_LOA }{ LOA \in  t\_locations \cprod  t\_speed }
                \nItem{ typing\_EOA }{ EOA \in  t\_locations \cprod  t\_speed }
                \nItem{ typing\_SvL }{ SvL \in  t\_locations \cprod  t\_speed }
                \nItem{ typing\_EBD }{ EBD \in  t\_braking\_curves }
                \nItem{ typing\_a\_current }{ a\_current \in  t\_acceleration }
                \nItem{ typing\_v\_current }{ v\_current \in  t\_speed }
                \nItem{ typing\_loc\_current }{ loc\_current \in  t\_locations }
                \nItem{ m2\_calculation\_deceleration\_inv1 }{ A\_safe \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                \nItem{ m2\_calculation\_deceleration\_inv2 }{ A\_expected \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                \nItem{ m2\_calculation\_deceleration\_inv3 }{ A\_normal\_service \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                \nItem{ m6\_supervised\_targets\_inv1 }{ LOA \in  t\_targets }
                \nItem{ m6\_supervised\_targets\_inv2 }{ EOA \in  t\_targets }
                \nItem{ m6\_supervised\_targets\_inv3 }{ SvL \in  t\_targets }
        \end{description}
\EVENTS
        \INITIALISATION
                \begin{description}
                \BeginAct
                        \begin{description}
                        \nItem{ act1 }{ v\_current :=  c\_v0 }
                        \nItem{ act2 }{ a\_current :=  c\_a0 }
                        \nItem{ act3 }{ loc\_current :=  c\_l0 }
                        \nItem{ act11 }{ A\_safe :=  f\_A\_deceleration0 }
                        \nItem{ act12 }{ A\_expected :=  f\_A\_deceleration0 }
                        \nItem{ act13 }{ A\_normal\_service :=  f\_A\_deceleration0 }
                        \nItem{ act18 }{ EOA :=  c\_target0 }
                        \nItem{ act19 }{ LOA :=  c\_target0 }
                        \nItem{ act20 }{ SvL :=  c\_target0 }
                        \nItem{ act21 }{ EBD :=  c\_curve0 }
                        \nItem{ act22 }{ SBD :=  c\_curve0 }
                        \nItem{ act23 }{ GUI :=  c\_curve0 }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {update\_train\_state}\cmt{		\\\hspace*{4,2 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_speed }
                        \Item{l\_accel }
                        \Item{l\_loc }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_speed \in  t\_speed }
                        \nItem{ grd2 }{ l\_accel \in  t\_acceleration }
                        \nItem{ grd3 }{ l\_loc \in  t\_locations }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ v\_current :=  l\_speed }
                        \nItem{ act2 }{ a\_current :=  l\_accel }
                        \nItem{ act3 }{ loc\_current :=  l\_loc }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_A\_safe}\cmt{		\\\hspace*{2,6 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_a\_decel }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_a\_decel \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_safe :=  l\_a\_decel }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_A\_expected}\cmt{		\\\hspace*{3,4 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_a\_decel }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_a\_decel \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_expected :=  l\_a\_decel }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_A\_normal\_service}\cmt{		\\\hspace*{4,6 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_a\_decel }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_a\_decel \in  t\_speed \cprod  t\_distance \tfun  t\_acceleration }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ A\_normal\_service :=  l\_a\_decel }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_EOA}\cmt{		\\\hspace*{2 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_target }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_target \in  t\_targets }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ EOA :=  l\_target }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_LOA}\cmt{		\\\hspace*{2 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_target }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_target \in  t\_targets }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ LOA :=  l\_target }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_SvL}\cmt{		\\\hspace*{2 cm}  External event, DO NOT REFINE }
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_target }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_target \in  t\_targets }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ SvL :=  l\_target }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_EBD}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_curve }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_curve \in  t\_braking\_curves }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ EBD :=  l\_curve }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_SBD}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_curve }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_curve \in  t\_braking\_curves }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ SBD :=  l\_curve }
                        \end{description}
                \EndAct
                \end{description}
        \EVT {set\_GUI}
                \begin{description}
                \AnyPrm
                        \begin{description}
                        \Item{l\_curve }
                        \end{description}
                \WhereGrd
                        \begin{description}
                        \nItem{ grd1 }{ l\_curve \in  t\_braking\_curves }
                        \end{description}
                \ThenAct
                        \begin{description}
                        \nItem{ act1 }{ GUI :=  l\_curve }
                        \end{description}
                \EndAct
                \end{description}
\END
\end{description}
